---
title: "【选型】前端海量数据渲染方案：虚拟列表 vs 分页加载"
date: "2026-02-20"
category: "frontend"
tags: ["architecture", "vue", "performance"]
excerpt: "面对万级数据列表渲染卡顿，对比虚拟列表和分页加载两种方案，最终选择虚拟列表方案。"
---

## 业务场景

需要在页面上展示一个包含 10000+ 条记录的数据列表，用户需要快速滚动浏览和搜索。使用普通 `v-for` 渲染时，页面明显卡顿，FPS 降到 10 以下。

## 候选方案对比

| 维度 | 虚拟列表 | 分页加载 |
|------|----------|----------|
| 用户体验 | 流畅滚动，无感知 | 需要点击翻页，体验中断 |
| 首屏性能 | 只渲染可视区域，极快 | 只加载第一页，极快 |
| 搜索体验 | 可在全量数据中搜索 | 需要后端配合搜索 |
| 实现复杂度 | 中等，需处理动态高度 | 低，常规分页逻辑 |
| 内存占用 | 低，DOM 节点固定 | 低，每页数据量小 |

## 最终选择与理由

选择虚拟列表方案（使用 `vue-virtual-scroller`），原因：
1. 产品要求"一屏看到所有数据"，不接受翻页
2. 需要前端实时搜索过滤，分页方案需要额外的后端接口
3. 列表项高度固定，虚拟列表实现相对简单

妥协：放弃了动态行高的支持，统一使用固定行高 48px。

## 落地效果

- 渲染 10000 条数据，FPS 稳定在 60
- DOM 节点数从 10000+ 降到 ~30（可视区域）
- 首屏渲染时间从 3.2s 降到 0.1s
